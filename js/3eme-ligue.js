var lineColors=["#F44336","#9C27B0","#3F51B5","#2196F3","#009688","#8BC34A","#C6FF00","#FFEB3B","#FF9800","#795548","#E91E63","#00BCD4","#CDDC39","#FFC107","#673AB7"];$(document).ready(function(){var n=[];$(".team-standard").each(function(){var o=$(this).attr("id");n[o]=[],$(this).find("table tbody tr").each(function(){var e=$(this).find("td:nth-child(2)").text(),i=$(this).data("evolution");n[o].push({label:e,data:i,fill:!1,borderColor:lineColors[n[o].length],pointBackgroundColor:lineColors[n[o].length],backgroundColor:lineColors[n[o].length]})}),$(this).find(".table tbody tr a").each(function(){$(this).on("click",function(e){event.preventDefault(),console.log($(this)),makeChart.init(n[o])})})}),rankingChoice.init(Object.keys(n).length)});var makeChart={init:function(n){console.log(n);var o=$("#myChart");new Chart(o,{type:"line",lineTension:0,data:{labels:[1,2,3,4,5,6,7,8,9,10,11],datasets:n,lineTension:0},options:{lineTension:0,tooltips:{enabled:!0,mode:"single",callbacks:{label:function(n,o){return o.datasets[n.yLabel-1].label},title:function(n,o){return n[0].yLabel}}},scales:{yAxes:[{ticks:{beginAtZero:!0,max:13,reverse:!0}}]}}});makeChart.display()},display:function(){$("#myModal").modal()}},rankingChoice={groupCount:0,init:function(n){rankingChoice.groupCount=n,rankingChoice.hideRankings(),$("#global, #global-standard").length>0?$("#global, #global-standard").show():$("#group1-standard").show(),rankingChoice.groupChoice()},groupChoice:function(){$("#group-choice, #rank-choice").on("change",function(){rankingChoice.hideRankings(),group=$("#group-choice option:selected").val(),rankingType=$("#rank-choice option:selected").val(),$("#"+group).show(),$("#"+group+"-"+rankingType).show()})},hideRankings:function(){for(var n=1;n<=rankingChoice.groupCount;n++)$("#group"+n).hide();$("#global, .ranking").hide()}};